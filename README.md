# Admin Template - ç°ä»£åŒ–ç®¡ç†åå°æ¨¡æ¿

<div align="center">
  <h1>ğŸš€ Admin Template</h1>
  <p>åŸºäº Next.js 15 + TypeScript + Tailwind CSS çš„ç°ä»£åŒ–ç®¡ç†åå°æ¨¡æ¿</p>
  <p>
    <img src="https://img.shields.io/badge/Next.js-15.5.2-black" alt="Next.js Version" />
    <img src="https://img.shields.io/badge/TypeScript-5.9.3-blue" alt="TypeScript Version" />
    <img src="https://img.shields.io/badge/Tailwind_CSS-4.0-38B2AC" alt="Tailwind CSS Version" />
    <img src="https://img.shields.io/badge/better--auth-1.3.24-green" alt="Better Auth Version" />
  </p>
</div>


##  åŠŸèƒ½ç‰¹æ€§

###  å®Œæ•´çš„è®¤è¯ç³»ç»Ÿ
- **å¤šç§ç™»å½•æ–¹å¼**ï¼šé‚®ç®±å¯†ç ç™»å½•ã€OAuth ç¤¾äº¤ç™»å½•ï¼ˆAppleã€Googleã€Metaï¼‰
- **æ³¨å†ŒåŠŸèƒ½**ï¼šé‚®ç®±æ³¨å†Œã€é‚®ç®±éªŒè¯
- **å¯†ç ç®¡ç†**ï¼šå¿˜è®°å¯†ç ã€é‡ç½®å¯†ç 
- **å®‰å…¨ç‰¹æ€§**ï¼š
  - æ»‘å—éªŒè¯ç é˜²æœºå™¨äºº
  - ç™»å½•å¤±è´¥æ¬¡æ•°é™åˆ¶
  - è¯·æ±‚é¢‘ç‡é™åˆ¶ï¼ˆé˜²æš´åŠ›ç ´è§£ï¼‰
  - ç”¨æˆ·å°ç¦ç®¡ç†

###  ç°ä»£åŒ– UI/UX
- **å“åº”å¼è®¾è®¡**ï¼šå®Œç¾é€‚é…æ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœº
- **æ·±è‰²æ¨¡å¼**ï¼šæ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢
- **ç»„ä»¶åº“**ï¼šåŸºäº Shadcn/ui çš„ç²¾ç¾ç»„ä»¶
- **åŠ¨ç”»æ•ˆæœ**ï¼šæµç•…çš„é¡µé¢è¿‡æ¸¡å’Œäº¤äº’åŠ¨ç”»

###  å®‰å…¨é˜²æŠ¤
- **éªŒè¯ç ç³»ç»Ÿ**ï¼š
  - è‡ªå®šä¹‰æ»‘å—éªŒè¯ç 
  - æ”¯æŒå¤šç§ç±»å‹ï¼ˆç™»å½•ã€æ³¨å†Œã€å¿˜è®°å¯†ç ï¼‰
  - Redis ç¼“å­˜éªŒè¯çŠ¶æ€
  - é˜²é‡æ”¾æ”»å‡»
- **ä¼šè¯ç®¡ç†**ï¼š
  - JWT Token è®¤è¯
  - ä¼šè¯è¿‡æœŸè‡ªåŠ¨åˆ·æ–°
  - å•ç‚¹ç™»å½•æ”¯æŒ

###  ç®¡ç†åŠŸèƒ½
- **ç”¨æˆ·ç®¡ç†**ï¼šç”¨æˆ·åˆ—è¡¨ã€ç¼–è¾‘ã€å°ç¦/è§£å°
- **ç«™ç‚¹è®¾ç½®**ï¼šç½‘ç«™åŸºæœ¬ä¿¡æ¯é…ç½®
- **æƒé™æ§åˆ¶**ï¼šåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆå¼€å‘ä¸­ï¼‰

###  æ€§èƒ½ä¼˜åŒ–
- **Next.js 15 App Router**ï¼šæœåŠ¡ç«¯æ¸²æŸ“ã€æµå¼ä¼ è¾“
- **Redis ç¼“å­˜**ï¼šéªŒè¯ç ã€ä¼šè¯ã€é¢‘ç‡é™åˆ¶
- **æ•°æ®åº“ä¼˜åŒ–**ï¼šDrizzle ORMã€è¿æ¥æ± ç®¡ç†

##  æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **æ¡†æ¶**: [Next.js 15.5.2](https://nextjs.org/) (App Router)
- **è¯­è¨€**: [TypeScript 5.9.3](https://www.typescriptlang.org/)
- **æ ·å¼**: [Tailwind CSS 4.0](https://tailwindcss.com/)
- **UI ç»„ä»¶**: [Shadcn/ui](https://ui.shadcn.com/)
- **è¡¨å•**: [React Hook Form](https://react-hook-form.com/) + [Zod](https://zod.dev/)
- **çŠ¶æ€ç®¡ç†**: React Context API
- **å›¾è¡¨**: [Recharts](https://recharts.org/)

### åç«¯æŠ€æœ¯
- **è®¤è¯**: [Better Auth 1.3.24](https://better-auth.com/)
- **æ•°æ®åº“**: MySQL 8.0 + [Drizzle ORM](https://orm.drizzle.team/)
- **ç¼“å­˜**: [Redis](https://redis.io/) (Upstash)
- **é‚®ä»¶**: [Nodemailer](https://nodemailer.com/)
- **éªŒè¯**: è‡ªå®šä¹‰æ»‘å—éªŒè¯ç ç³»ç»Ÿ

### å¼€å‘å·¥å…·
- **åŒ…ç®¡ç†**: npm / yarn / pnpm
- **ä»£ç è§„èŒƒ**: ESLint + Prettier
- **Git Hooks**: Husky (æ¨è)

##  é¡¹ç›®ç»“æ„

```
admin-template/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ (auth)/            # è®¤è¯ç›¸å…³é¡µé¢ï¼ˆç™»å½•ã€æ³¨å†Œç­‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ admin/             # ç®¡ç†åå°é¡µé¢
â”‚   â”‚   â”œâ”€â”€ api/               # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/          # è®¤è¯ç›¸å…³ API
â”‚   â”‚   â”‚   â”œâ”€â”€ captcha/       # éªŒè¯ç  API
â”‚   â”‚   â”‚   â””â”€â”€ site-settings/ # ç«™ç‚¹è®¾ç½® API
â”‚   â”‚   â””â”€â”€ layout.tsx         # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ components/            # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/               # åŸºç¡€ UI ç»„ä»¶ï¼ˆShadcn/uiï¼‰
â”‚   â”‚   â””â”€â”€ m_ui/             # è‡ªå®šä¹‰ä¸šåŠ¡ç»„ä»¶
â”‚   â”œâ”€â”€ db/                   # æ•°æ®åº“ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ schema/           # Drizzle Schema å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts          # æ•°æ®åº“è¿æ¥
â”‚   â”œâ”€â”€ lib/                  # å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ auth.ts           # Better Auth é…ç½®
â”‚   â”‚   â”œâ”€â”€ auth-client.ts    # å®¢æˆ·ç«¯è®¤è¯
â”‚   â”‚   â”œâ”€â”€ redis.ts          # Redis é…ç½®
â”‚   â”‚   â”œâ”€â”€ mailer.ts         # é‚®ä»¶æœåŠ¡
â”‚   â”‚   â””â”€â”€ utils.ts          # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ middleware.ts         # Next.js ä¸­é—´ä»¶
â”œâ”€â”€ public/                   # é™æ€èµ„æº
â”‚   â”œâ”€â”€ avatars/             # ç”¨æˆ·å¤´åƒ
â”‚   â””â”€â”€ captcha/             # éªŒè¯ç å›¾ç‰‡
â”œâ”€â”€ drizzle.config.ts        # Drizzle é…ç½®
â”œâ”€â”€ next.config.ts           # Next.js é…ç½®
â”œâ”€â”€ tailwind.config.ts       # Tailwind é…ç½®
â”œâ”€â”€ package.json             # é¡¹ç›®ä¾èµ–
â””â”€â”€ .env.example             # ç¯å¢ƒå˜é‡ç¤ºä¾‹
```

##  å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js 18+
- MySQL 8.0+
- Redis (å¯é€‰ï¼šä½¿ç”¨ Upstash Redis)
- npm/yarn/pnpm

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone http://zhai.cm:3000/mouzhai/admin_tmplate.git
cd admin-template
```

2. **å®‰è£…ä¾èµ–**
```bash
npm install
# æˆ–
yarn install
# æˆ–
pnpm install
```

3. **ç¯å¢ƒé…ç½®**
å¤åˆ¶ `.env.example` ä¸º `.env.local` å¹¶å¡«å†™é…ç½®ï¼š
```bash
cp .env.example .env.local
```

4. **æ•°æ®åº“è¿ç§»**
```bash
npm run db:push
# æˆ–
npm run db:migrate
```

5. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
npm run dev
```

è®¿é—® http://localhost:3000 æŸ¥çœ‹é¡¹ç›®

##  ç¯å¢ƒé…ç½®

åˆ›å»º `.env.local` æ–‡ä»¶å¹¶é…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```env
# æ•°æ®åº“é…ç½®
DATABASE_URL="mysql://user:password@localhost:3306/admin_template"

# Redis é…ç½®ï¼ˆUpstashï¼‰
UPSTASH_REDIS_REST_URL="https://xxx.upstash.io"
UPSTASH_REDIS_REST_TOKEN="your-token"

# Better Auth é…ç½®
BETTER_AUTH_SECRET="your-secret-key"
BETTER_AUTH_URL="http://localhost:3000"

# é‚®ä»¶é…ç½®ï¼ˆSMTPï¼‰
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USER="your-email@gmail.com"
SMTP_PASS="your-app-password"
SMTP_FROM="Admin Template <noreply@example.com>"

# éªŒè¯ç é…ç½®
CAPTCHA_TTL="300" # éªŒè¯ç æœ‰æ•ˆæœŸï¼ˆç§’ï¼‰

# å…¶ä»–é…ç½®
NEXT_PUBLIC_APP_NAME="Admin Template"
NEXT_PUBLIC_APP_URL="http://localhost:3000"
```

##  åŠŸèƒ½æ¨¡å—

### è®¤è¯æ¨¡å—

#### ç™»å½•åŠŸèƒ½
- é‚®ç®±å¯†ç ç™»å½•
- æ»‘å—éªŒè¯ç éªŒè¯
- è®°ä½ç™»å½•çŠ¶æ€
- ç™»å½•å¤±è´¥å¤„ç†

#### æ³¨å†ŒåŠŸèƒ½
- é‚®ç®±æ³¨å†Œ
- å¯†ç å¼ºåº¦éªŒè¯
- é‚®ç®±éªŒè¯
- æ¡æ¬¾åŒæ„

#### å¯†ç é‡ç½®
- å¿˜è®°å¯†ç 
- é‚®ä»¶å‘é€é‡ç½®é“¾æ¥
- 60ç§’é‡å‘é™åˆ¶
- å®‰å…¨ä»¤ç‰ŒéªŒè¯


### ç”¨æˆ·ç®¡ç†(å¼€å‘ä¸­)

- ç”¨æˆ·åˆ—è¡¨å±•ç¤º
- ç”¨æˆ·ä¿¡æ¯ç¼–è¾‘
- ç”¨æˆ·å°ç¦/è§£å°
- è§’è‰²æƒé™ç®¡ç†

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `src/app` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„è·¯ç”±æ–‡ä»¶å¤¹
2. åˆ›å»º `page.tsx` æ–‡ä»¶
3. ä½¿ç”¨è®¤è¯ä¿æŠ¤ï¼ˆå¦‚éœ€è¦ï¼‰ï¼š

```typescript
import { requireUserSession } from "@/lib/checkSession";

export default async function NewPage() {
  const session = await requireUserSession();
  
  return (
    <div>
      {/* é¡µé¢å†…å®¹ */}
    </div>
  );
}
```

### æ·»åŠ æ–°ç»„ä»¶

1. åœ¨ `src/components` ç›®å½•ä¸‹åˆ›å»ºç»„ä»¶
2. ä½¿ç”¨ TypeScript å®šä¹‰ props
3. å¯¼å‡ºç»„ä»¶ä¾›å…¶ä»–åœ°æ–¹ä½¿ç”¨

### è‡ªå®šä¹‰éªŒè¯ç ç±»å‹

1. æ›´æ–°ç±»å‹å®šä¹‰ï¼š
```typescript
// src/components/Captcha.tsx
type?: "login" | "signup" | "forgotPassword" | "yourNewType";
```

2. åœ¨ä½¿ç”¨å¤„æŒ‡å®šç±»å‹ï¼š
```typescript
<CaptchaVerification type="yourNewType" />
```

### æ•°æ®åº“æ“ä½œ

ä½¿ç”¨ Drizzle ORM è¿›è¡Œæ•°æ®åº“æ“ä½œï¼š

```typescript
import db from "@/db";
import { user } from "@/db/schema/auth-schema";
import { eq } from "drizzle-orm";

// æŸ¥è¯¢ç”¨æˆ·
const users = await db.select().from(user).where(eq(user.email, email));

// æ›´æ–°ç”¨æˆ·
await db.update(user).set({ name: "New Name" }).where(eq(user.id, userId));
```

##  éƒ¨ç½²è¯´æ˜

### Vercel éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. å°†ä»£ç æ¨é€åˆ° GitHub
2. åœ¨ Vercel ä¸­å¯¼å…¥é¡¹ç›®
3. é…ç½®ç¯å¢ƒå˜é‡
4. éƒ¨ç½²

### è‡ªæ‰˜ç®¡éƒ¨ç½²

1. æ„å»ºé¡¹ç›®ï¼š
```bash
npm run build
```

2. å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨ï¼š
```bash
npm run start
```

3. ä½¿ç”¨ PM2 ç®¡ç†è¿›ç¨‹ï¼š
```bash
pm2 start npm --name "admin-template" -- start
```

### Docker éƒ¨ç½²

åˆ›å»º `Dockerfile`ï¼š
```dockerfile
FROM node:18-alpine AS builder
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build

FROM node:18-alpine
WORKDIR /app
COPY --from=builder /app/.next ./.next
COPY --from=builder /app/public ./public
COPY --from=builder /app/package*.json ./
RUN npm ci --production
EXPOSE 3000
CMD ["npm", "start"]
```

##  è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript ç¼–å†™ä»£ç 
- éµå¾ª ESLint è§„åˆ™
- æäº¤å‰è¿è¡Œ `npm run lint`
- ç¼–å†™æ¸…æ™°çš„æäº¤ä¿¡æ¯

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ™ è‡´è°¢

- [Next.js](https://nextjs.org/)
- [Shadcn/ui](https://ui.shadcn.com/)
- [Better Auth](https://better-auth.com/)
- [Tailwind CSS](https://tailwindcss.com/)
- [Drizzle ORM](https://orm.drizzle.team/)

---

<div align="center">
  <p>å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª â­ï¸ Star</p>
  <p>Made with â¤ï¸ by MZ</p>
</div>